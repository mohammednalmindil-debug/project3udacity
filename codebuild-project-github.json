{
  "name": "coworking-build",
  "description": "Build and deploy coworking analytics application to ECR with GitHub webhook integration",
  "source": {
    "type": "GITHUB",
    "location": "https://github.com/mohammednalmindil-debug/project3udacity.git",
    "buildspec": "deployments/buildspec-with-health-check.yaml",
    "gitCloneDepth": 1,
    "insecureSsl": false,
    "reportBuildStatus": true
  },
  "artifacts": {
    "type": "NO_ARTIFACTS"
  },
  "environment": {
    "type": "LINUX_CONTAINER",
    "image": "aws/codebuild/amazonlinux2-x86_64-standard:5.0",
    "computeType": "BUILD_GENERAL1_MEDIUM",
    "privilegedMode": true,
    "environmentVariables": [
      {
        "name": "AWS_ACCOUNT_ID",
        "value": "767398149973"
      },
      {
        "name": "AWS_DEFAULT_REGION",
        "value": "us-east-1"
      },
      {
        "name": "IMAGE_REPO_NAME",
        "value": "coworking-analytics"
      }
    ]
  },
  "serviceRole": "arn:aws:iam::767398149973:role/CoworkingAnalyticsCodeBuildRole",
  "timeoutInMinutes": 60,
  "logsConfig": {
    "cloudWatchLogs": {
      "status": "ENABLED",
      "groupName": "/aws/codebuild/coworking-build",
      "streamName": "build-logs"
    }
  },
  "webhook": {
    "filterGroups": [
      [
        {
          "type": "EVENT",
          "pattern": "PUSH"
        },
        {
          "type": "HEAD_REF",
          "pattern": "^refs/heads/main$"
        }
      ]
    ]
  }
}